/* ═══════════════════════════════════════════════════════
   OSM COUNTER NG — App.css  v4
   · 4-column pricing grid with filled tier colours
   · Consistent popup system (subscription + referral + exit intent)
   · Green lifetime buttons
   · Install popup image
   · Full portrait + landscape responsive
═══════════════════════════════════════════════════════ */

/* ── CSS Variables ───────────────────────────────────── */
:root {
  --osm-navy:   #002c62;
  --osm-cyan:   #00aeef;
  --osm-gold:   #ffb400;
  --bg-dark:    #0c1120;
  --bg-panel:   #131829;
  --text-bright:#ffffff;
  --text-dim:   #a0b4c8;
  --glass:      rgba(0,0,0,0.15);
  --success:    #00c853;
  --warning:    #ff9800;

  /* Tier palette */
  --epic-bg-a:      #051e40;
  --epic-bg-b:      #0a3060;
  --epic-border:    #00aeef;
  --epic-accent:    #00aeef;

  --elite-bg-a:     #150a2e;
  --elite-bg-b:     #241050;
  --elite-border:   #9b59f5;
  --elite-accent:   #b47bff;

  --legendary-bg-a: #1e0e00;
  --legendary-bg-b: #3a1e00;
  --legendary-border:#ffb400;
  --legendary-accent:#ffb400;
}

/* ── Reset ───────────────────────────────────────────── */
*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* ── Base ────────────────────────────────────────────── */
body {
  font-family: "Inter","Changa",sans-serif;
  background: var(--bg-dark)
    url("https://i.ibb.co/tMSMxmwN/Gemini-Generated-Image-ticrt2ticrt2ticr.png")
    center/cover no-repeat fixed;
  color: var(--text-bright);
  text-align: center;
  min-height: 100vh;
  -webkit-tap-highlight-color: transparent;
}

/* ── Typography ──────────────────────────────────────── */
h1 { font-size: 2.8em; margin: 0; text-shadow: 0 0 12px var(--osm-cyan); }
h2 { font-size: 2em;   margin: 20px 0 10px; color: var(--osm-gold); }
h3 { font-size: 1.6em; margin: 15px 0;      color: var(--osm-cyan); }
h4 { font-size: 1.3em; margin: 20px 0 10px; color: var(--osm-gold); }

/* ── Layout shells ───────────────────────────────────── */
header {
  padding: 40px 20px;
  background: linear-gradient(180deg,var(--osm-navy),transparent);
}
main.glass {
  padding: 30px 20px;
  max-width: 1200px;
  margin: 30px auto;
  background: var(--glass);
  border-radius: 12px;
  box-shadow: 0 0 25px rgba(0,174,239,.35);
}
.card {
  padding: 25px;
  margin-bottom: 30px;
  background: rgba(19,24,41,.6);
  border: 1px solid rgba(0,174,239,.3);
  border-radius: 10px;
}

/* ── Banner ──────────────────────────────────────────── */
#banner {
  position: relative;
  max-width: 1200px;
  margin: 14px auto 24px;
  padding: 0 12px;
  display: flex;
  justify-content: center;
}
.header-banner {
  width: 100%; height: 220px;
  border-radius: 14px; overflow: hidden;
  box-shadow: 0 12px 40px rgba(0,0,0,.5);
  position: relative;
}
#banner img {
  width: 100%; height: 100%;
  object-fit: cover; display: block;
  transform-origin: center;
  transition: transform .6s ease, filter .4s ease;
}
.header-banner::after {
  content: ""; position: absolute; inset: 0;
  background: linear-gradient(180deg,rgba(0,0,0,.15),rgba(0,0,0,.45));
  pointer-events: none;
}
.header-banner:hover img { transform: scale(1.03); filter: saturate(1.05) contrast(1.02); }

.closeBanner {
  position: absolute; top: 15px; right: 30px;
  background: rgba(0,0,0,.7); border: none; color: var(--text-bright);
  font-size: 28px; cursor: pointer;
  width: 35px; height: 35px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  transition: all .3s;
}
.closeBanner:hover { background: rgba(255,0,0,.8); transform: scale(1.1); }

/* ── Trust Bar ───────────────────────────────────────── */
.trust-bar {
  background: linear-gradient(90deg,#001a40 0%,#002c62 50%,#001a40 100%);
  padding: 16px 20px;
  border-top: 1px solid rgba(0,174,239,.3);
  border-bottom: 1px solid rgba(0,174,239,.3);
}
.trust-bar-inner {
  max-width: 1200px; margin: 0 auto;
  display: flex; justify-content: center; align-items: center;
  flex-wrap: wrap; gap: 24px;
}

/* ── Hero ────────────────────────────────────────────── */
.hero-section {
  background: #0c1120;
  padding: 50px 20px 40px;
  text-align: center;
}
.hero-title { font-size: 2.9em; color: #ffb400; margin: 0 0 18px; line-height: 1.1; }
.hero-sub   { font-size: 1.35em; color: #fff; max-width: 640px; margin: 0 auto 40px; line-height: 1.4; }
.hero-img   { max-width: 100%; height: auto; border-radius: 28px; box-shadow: 0 30px 70px rgba(0,174,239,.55); margin-bottom: 40px; }
.hero-btns  { display: flex; gap: 18px; justify-content: center; flex-wrap: wrap; }
.hero-btn-primary {
  padding: 19px 42px; font-size: 1.4em;
  background: linear-gradient(135deg,#ffb400,#ffa000);
  color: #002c62; border: none; border-radius: 16px;
  font-weight: 800; cursor: pointer;
}
.hero-btn-outline {
  padding: 19px 42px; font-size: 1.4em;
  background: transparent; color: #00aeef;
  border: 3px solid #00aeef; border-radius: 16px;
  font-weight: 800; cursor: pointer;
}
.hero-btn-primary:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(255,180,0,.5); }
.hero-btn-outline:hover { transform: translateY(-2px); box-shadow: 0 8px 24px rgba(0,174,239,.4); }

/* ── Input grid ──────────────────────────────────────── */
.input-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(260px,1fr));
  gap: 20px; margin: 20px 0; text-align: left;
}
.input-group { display: flex; flex-direction: column; }
.input-group label { font-size: 1rem; font-weight: 600; color: var(--osm-cyan); margin-bottom: 8px; }
.input-group select,
.input-group input[type="number"] {
  width: 100%; padding: 10px; border-radius: 6px;
  border: 1px solid var(--osm-cyan);
  background: var(--bg-panel); color: var(--text-bright);
  font-size: 1rem; transition: all .3s;
}
.input-group select:focus,
.input-group input:focus { outline: none; border-color: var(--osm-gold); box-shadow: 0 0 8px rgba(255,180,0,.4); }
.input-group input[type="checkbox"] { margin-right: 8px; transform: scale(1.3); }

/* ── Opponent tactics block ──────────────────────────── */
.opponent-tactics-section {
  margin: 25px 0; padding: 20px;
  background: rgba(0,174,239,.1);
  border-radius: 8px; border-left: 4px solid var(--osm-cyan);
}
.opponent-tactics-section h3 { margin-top: 0; font-size: 1.4em; }

/* ── Sliders ─────────────────────────────────────────── */
.slider-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit,minmax(240px,1fr));
  gap: 25px; margin: 20px 0;
}
.slider-group {
  background: rgba(0,174,239,.1); padding: 20px;
  border-radius: 8px; border: 1px solid rgba(0,174,239,.3);
}
.slider-group label {
  display: flex; justify-content: space-between;
  font-size: 1.1rem; font-weight: 600;
  color: var(--osm-cyan); margin-bottom: 12px;
}
.slider-group label span { color: var(--osm-gold); font-size: 1.3rem; }
.slider-group input[type="range"] {
  width: 100%; height: 8px; border-radius: 5px;
  background: linear-gradient(to right,var(--osm-navy),var(--osm-cyan),var(--osm-gold));
  outline: none; -webkit-appearance: none; margin: 10px 0;
}
.slider-group input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none; appearance: none;
  width: 20px; height: 20px; border-radius: 50%;
  background: var(--osm-gold); cursor: pointer;
  box-shadow: 0 0 10px rgba(255,180,0,.6);
}
.slider-group input[type="range"]::-moz-range-thumb {
  width: 20px; height: 20px; border-radius: 50%;
  background: var(--osm-gold); cursor: pointer;
  box-shadow: 0 0 10px rgba(255,180,0,.6); border: none;
}
.slider-group input[type="range"]:disabled { opacity: .7; cursor: not-allowed; }
.slider-description { font-size: .85rem; color: var(--text-dim); margin-top: 8px; font-style: italic; text-align: left; }

/* ── Buttons (base) ──────────────────────────────────── */
button {
  background: linear-gradient(135deg,var(--osm-gold),#ffa000);
  color: var(--osm-navy); border: none;
  padding: 14px 28px; border-radius: 8px;
  font-weight: 700; font-size: 1.1rem;
  cursor: pointer; transition: all .3s;
  box-shadow: 0 4px 15px rgba(255,180,0,.3);
}
button:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(255,180,0,.5); }
button:active { transform: translateY(0); }

/* ── Pricing button variants ─────────────────────────── */
/* Monthly buttons keep the standard gold gradient */
.btn-monthly {
  padding: 10px 14px;
  border-radius: 8px;
  background: linear-gradient(135deg,var(--osm-gold),#ffa000);
  color: var(--osm-navy);
  border: none;
  font-weight: bold;
  cursor: pointer;
  font-size: 0.9em;
  transition: all .3s;
}
.btn-monthly:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(255,180,0,.5); }

/* Lifetime buttons are GREEN */
.btn-lifetime {
  padding: 10px 14px;
  border-radius: 8px;
  background: linear-gradient(135deg,#00c864,#00a050);
  color: #fff;
  border: none;
  font-weight: bold;
  cursor: pointer;
  font-size: 0.9em;
  transition: all .3s;
  box-shadow: 0 4px 15px rgba(0,200,100,.35);
}
.btn-lifetime:hover { transform: translateY(-2px); box-shadow: 0 6px 22px rgba(0,200,100,.55); }

/* ── Subscribe box ───────────────────────────────────── */
.subscribe-box {
  margin-top: 30px; border-radius: 18px;
  overflow: hidden; border: 2px solid #00b4ff;
  box-shadow: 0 8px 40px rgba(0,150,255,.5);
}
.subscribe-box-header {
  background: linear-gradient(135deg,#0050cc 0%,#0096ff 50%,#00c8ff 100%);
  padding: 32px 24px 0;
  display: flex; flex-direction: column; align-items: center;
}
.subscribe-box-title { color:#fff; margin:0 0 6px; font-size:1.5em; font-weight:800; text-shadow:0 2px 8px rgba(0,0,0,.3); }
.subscribe-box-sub   { color:rgba(255,255,255,.85); margin:0 0 20px; font-size:.97em; line-height:1.5; }
.subscribe-box-img   {
  width:160px; height:160px; object-fit:contain; display:block;
  margin-bottom:-30px; filter:drop-shadow(0 8px 20px rgba(0,0,0,.35));
  position:relative; z-index:2;
}
.subscribe-box-body {
  background: linear-gradient(160deg,#062554 0%,#0a3a7a 100%);
  padding: 48px 24px 28px;
  display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;
}
.subscribe-col {
  flex: 1 1 300px; max-width: 400px;
  background: rgba(0,0,0,.25); border-radius: 14px;
  padding: 22px 20px; border: 1px solid rgba(0,180,255,.3);
}
.sub-input {
  padding: 12px 16px; border-radius: 10px;
  border: 1.5px solid rgba(0,174,239,.5);
  background: rgba(0,0,0,.4); color: #fff;
  font-size: .97em; outline: none; width: 100%;
}
.sub-btn-gold {
  padding: 13px 20px; border-radius: 10px;
  background: linear-gradient(135deg,#ffb400,#ffa000);
  color: #002c62; border: none; font-weight: bold;
  font-size: 1em; cursor: pointer;
  box-shadow: 0 4px 16px rgba(255,180,0,.35); width: 100%;
}
.sub-btn-green {
  padding: 13px 20px; border-radius: 10px;
  background: linear-gradient(135deg,#00c864,#00a050);
  color: #fff; border: none; font-weight: bold;
  font-size: 1em; cursor: pointer;
  box-shadow: 0 4px 16px rgba(0,200,100,.3); width: 100%;
}
.referral-link-btn {
  padding: 10px 22px; border-radius: 10px;
  background: rgba(255,255,255,.07);
  color: rgba(160,200,255,.7);
  border: 1px solid rgba(255,255,255,.15);
  font-weight: 600; cursor: pointer; font-size: .9em; transition: all .25s;
}
.referral-link-btn.copied {
  background: rgba(0,200,100,.25); color: #00c864;
  border-color: #00c864;
}

/* ── Results ─────────────────────────────────────────── */
#engineResults { animation: slideIn .5s ease-out; }
@keyframes slideIn { from { opacity:0; transform:translateY(20px); } to { opacity:1; transform:translateY(0); } }
@keyframes fadeIn  { from { opacity:0; } to { opacity:1; } }

#quickResult {
  background: rgba(0,174,239,.15);
  padding: 20px; margin-top: 20px;
  border-radius: 8px; border-left: 4px solid var(--osm-cyan);
  font-size: 1.1rem; line-height: 1.8;
}
#engineResults table { width:100%; border-collapse:collapse; margin:15px 0; background:rgba(0,0,0,.3); }
#engineResults th, #engineResults td { padding:12px; border:1px solid rgba(0,174,239,.3); text-align:left; }
#engineResults th { background:var(--osm-navy); color:var(--osm-gold); font-weight:700; }
#engineResults tr:nth-child(even) { background:rgba(0,174,239,.05); }
#engineResults tr:hover { background:rgba(0,174,239,.15); }

/* ── Alternative formations ──────────────────────────── */
.alternative-formations-container {
  margin:25px 0; padding:20px;
  background:rgba(0,174,239,.1);
  border-radius:8px; border:1px solid rgba(0,174,239,.3);
}
.alternative-formations-grid {
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(140px,1fr));
  gap:15px; margin:20px 0;
}
.alternative-formation-card {
  background:rgba(0,174,239,.1); padding:15px; border-radius:8px;
  border:2px solid rgba(0,174,239,.3); cursor:pointer; transition:all .3s; text-align:center;
}
.alternative-formation-card:hover { border-color:var(--osm-cyan); transform:translateY(-3px); box-shadow:0 5px 15px rgba(0,174,239,.3); }
.alternative-formation-card.selected { background:rgba(0,174,239,.25); border-color:var(--osm-cyan); box-shadow:0 0 15px rgba(0,174,239,.5); }
.alternative-formation-card .formation-name   { font-size:1.8em; font-weight:700; color:var(--osm-gold); margin-bottom:8px; }
.alternative-formation-card .formation-type   { color:var(--osm-cyan); font-weight:600; font-size:.95em; margin-bottom:6px; }
.alternative-formation-card .formation-strengths { color:var(--text-dim); font-size:.85em; margin-bottom:8px; line-height:1.4; }
.alternative-formation-card .win-prob         { color:var(--success); font-weight:600; font-size:1em; }

/* ═══════════════════════════════════════════════════════
   PRICING — 4-column grid with filled tier backgrounds
═══════════════════════════════════════════════════════ */
#pricing { background: rgba(19,24,41,.8); }

.pricing-grid {
  display: grid;
  grid-template-columns: repeat(4,1fr);
  gap: 20px;
  margin-top: 30px;
  align-items: stretch;
}

/* ── Base product card ───────────────────────────────── */
.product-card {
  border-radius: 12px;
  padding: 36px 18px 24px;
  position: relative;
  transition: all .3s;
  display: flex;
  flex-direction: column;
  align-items: stretch;

  /* Default (Free tier): keep dark panel */
  background: linear-gradient(145deg,var(--bg-panel),#1a2438);
  border: 1px solid var(--osm-cyan);
}
.product-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,174,239,.4); }

/* ── Free tier ───────────────────────────────────────── */
.product-card--free {
  background: linear-gradient(145deg,var(--bg-panel),#1a2438);
  border: 1px solid rgba(0,174,239,.5);
}
.product-card--free:hover { box-shadow: 0 10px 30px rgba(0,174,239,.3); }

/* ── Epic tier — cyan/blue fill ──────────────────────── */
.product-card--epic {
  background: linear-gradient(145deg,var(--epic-bg-a),var(--epic-bg-b));
  border: 2px solid var(--epic-border);
  box-shadow: 0 0 28px rgba(0,174,239,.25), inset 0 0 40px rgba(0,120,220,.1);
}
.product-card--epic:hover {
  box-shadow: 0 12px 36px rgba(0,174,239,.55), inset 0 0 40px rgba(0,120,220,.15);
}
.product-card--epic .product-card__glow {
  position: absolute; inset: 0; border-radius: 12px; pointer-events: none;
  background: radial-gradient(ellipse at 50% 0%, rgba(0,174,239,.18) 0%, transparent 70%);
}

/* ── Elite tier — purple/violet fill ─────────────────── */
.product-card--elite {
  background: linear-gradient(145deg,var(--elite-bg-a),var(--elite-bg-b));
  border: 2px solid var(--elite-border);
  box-shadow: 0 0 28px rgba(155,89,245,.25), inset 0 0 40px rgba(100,40,200,.1);
}
.product-card--elite:hover {
  box-shadow: 0 12px 36px rgba(155,89,245,.5), inset 0 0 40px rgba(100,40,200,.18);
}
.product-card--elite h3 { color: var(--elite-accent); }
.product-card--elite .price { color: var(--elite-accent); }
.product-card--elite .benefit-list li::before { color: var(--elite-accent); }

/* ── Legendary tier — deep gold/orange fill ──────────── */
.product-card--legendary {
  background: linear-gradient(145deg,var(--legendary-bg-a),var(--legendary-bg-b));
  border: 2px solid var(--legendary-border);
  box-shadow: 0 0 32px rgba(255,180,0,.35), inset 0 0 50px rgba(200,100,0,.12);
}
.product-card--legendary:hover {
  box-shadow: 0 12px 40px rgba(255,180,0,.6), inset 0 0 50px rgba(200,100,0,.2);
}
/* keep legendary h3 gold (already default) */

/* ── .legendary shorthand still works as selector ───── */
.legendary { /* combined with .product-card--legendary above */ }

/* ── epic-featured shorthand ─────────────────────────── */
.epic-featured { /* combined with .product-card--epic above */ }

/* Product card image wrapper */
.pc-img-wrap {
  width: 100%; height: 150px;
  display: flex; align-items: center; justify-content: center;
  margin-bottom: 12px; overflow: hidden; border-radius: 8px;
  flex-shrink: 0;
}
.pc-img-wrap.legendary-image-wrap { position: relative; }
.product-image {
  max-width: 100%; max-height: 100%;
  object-fit: contain;
  border-radius: 8px;
}
.legendary-hero-img { width:100%; height:100%; object-fit:cover; }
.legendary-img-badge {
  position:absolute; bottom:6px; left:50%; transform:translateX(-50%);
  background:rgba(0,0,0,.65); color:var(--osm-gold);
  font-size:.72em; font-weight:700; padding:3px 10px; border-radius:12px;
  white-space:nowrap; pointer-events:none;
}

.product-card h3 {
  font-size: 1.6em; margin: 8px 0;
  min-height: 2em;
  display: flex; align-items: center; justify-content: center;
  color: var(--osm-cyan);
}
.price {
  font-size: 2em; margin: 10px 0;
  color: var(--osm-gold); font-weight: 700;
  display: flex; align-items: baseline; justify-content: center;
}
.benefit-list {
  font-size: .88em; text-align: left;
  padding-left: 0; list-style: none;
  margin: 14px 0; flex: 1;
}
.benefit-list li { margin: 8px 0; padding-left: 22px; position: relative; line-height: 1.45; }
.benefit-list li::before { content:"✓"; color:var(--osm-gold); font-weight:bold; position:absolute; left:0; font-size:1.2em; }

.tag.legend {
  position:absolute; top:-12px; left:50%; transform:translateX(-50%);
  background:var(--osm-gold); color:var(--osm-navy);
  padding:5px 14px; border-radius:20px; font-size:.78em; font-weight:700;
  box-shadow:0 3px 10px rgba(255,180,0,.5); white-space:nowrap;
}
.tag.featured {
  position:absolute; top:-12px; left:50%; transform:translateX(-50%);
  background:linear-gradient(135deg,var(--osm-cyan),#0099cc); color:#fff;
  padding:5px 14px; border-radius:20px; font-size:.78em; font-weight:700;
  box-shadow:0 3px 10px rgba(0,174,239,.5); white-space:nowrap;
}

/* ═══════════════════════════════════════════════════════
   POPUP / MODAL SYSTEM
   Consistent across: subscription, referral, exit intent,
   install, golden ticket
═══════════════════════════════════════════════════════ */
.popup-overlay {
  position: fixed; top:0; left:0; right:0; bottom:0;
  background: rgba(0,0,0,.87);
  display: none; justify-content: center; align-items: center;
  z-index: 10000;
  backdrop-filter: blur(6px); -webkit-backdrop-filter: blur(6px);
  padding: 16px;
  overflow-y: auto;
}
.subscription-popup {
  background: linear-gradient(135deg,var(--bg-panel),#1a2438);
  width: 90%; max-width: 500px;
  border-radius: 15px; overflow: hidden;
  border: 3px solid var(--osm-cyan);
  box-shadow: 0 20px 50px rgba(0,174,239,.4);
  animation: popupSlideIn .4s cubic-bezier(.22,1,.36,1);
  position: relative;
  max-height: 95vh; overflow-y: auto;
}
.subscription-popup.install-popup  { max-width: 540px; }
.subscription-popup.referral-popup { max-width: 520px; border-color: var(--osm-gold); box-shadow: 0 20px 50px rgba(255,180,0,.3); }
.subscription-popup.exit-intent-popup { max-width: 520px; border-color: #ff4d4d; box-shadow: 0 20px 50px rgba(255,77,77,.35); }

@keyframes popupSlideIn {
  from { opacity:0; transform:translateY(40px) scale(.94); }
  to   { opacity:1; transform:translateY(0) scale(1); }
}

.popup-header {
  background: linear-gradient(90deg,var(--osm-navy),var(--osm-cyan));
  padding: 22px 25px; text-align: center;
  position: sticky; top: 0; z-index: 1;
}
.subscription-popup.referral-popup .popup-header {
  background: linear-gradient(90deg,#3a1e00,var(--osm-gold),#3a1e00);
}
.subscription-popup.exit-intent-popup .popup-header {
  background: linear-gradient(90deg,#3d0000,#cc2200,#3d0000);
}
.popup-header h3 { color:var(--text-bright); font-size:1.7em; margin:0; text-shadow:0 0 10px rgba(0,0,0,.5); }
.popup-content { padding: 24px 28px; text-align: center; }
.popup-icon { font-size:3.5em; margin-bottom:12px; color:var(--osm-gold); text-shadow:0 0 20px rgba(255,180,0,.5); line-height:1; }
.popup-text { font-size:1.05em; line-height:1.65; margin-bottom:18px; color:var(--text-dim); }
.popup-features { text-align:left; margin:0 0 18px; padding-left:0; list-style:none; }
.popup-features li { margin:9px 0; color:var(--text-bright); position:relative; padding-left:28px; line-height:1.5; }
.popup-features li::before { content:"✓"; color:var(--osm-gold); position:absolute; left:0; font-weight:bold; font-size:1.15em; }
.popup-actions { display:flex; gap:12px; margin-top:10px; }
.popup-btn { flex:1; padding:13px; border-radius:8px; font-weight:700; font-size:.97rem; cursor:pointer; transition:all .25s; border:none; }
.popup-btn.primary { background:linear-gradient(135deg,var(--osm-gold),#ffa000); color:var(--osm-navy); }
.popup-btn.primary:hover  { transform:translateY(-2px); box-shadow:0 6px 20px rgba(255,180,0,.5); }
.popup-btn.primary.copied-state { background:linear-gradient(135deg,#00c864,#00a050); color:#fff; }
.popup-btn.secondary { background:transparent; color:var(--osm-cyan); border:2px solid var(--osm-cyan); }
.popup-btn.secondary:hover { background:rgba(0,174,239,.1); transform:translateY(-2px); }
.popup-close {
  position:absolute; top:12px; right:12px;
  background:rgba(0,0,0,.55); border:none; color:var(--text-bright);
  width:32px; height:32px; border-radius:50%; cursor:pointer;
  font-size:20px; display:flex; align-items:center; justify-content:center;
  transition:all .25s; z-index:2;
}
.popup-close:hover { background:rgba(255,0,0,.75); transform:rotate(90deg); }

/* ── Referral popup hero image ───────────────────────── */
.referral-popup-img-wrap {
  width: 100%;
  max-height: 220px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg,rgba(30,14,0,.8),rgba(255,180,0,.15));
}
.referral-popup-img {
  width: 100%;
  max-height: 220px;
  object-fit: contain;
  object-position: center;
  display: block;
  padding: 10px 0;
  filter: drop-shadow(0 8px 20px rgba(255,180,0,.4));
}

/* ── Exit intent popup hero image ────────────────────── */
.exit-intent-img-wrap {
  position: relative;
  width: 100%;
  max-height: 200px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  background: linear-gradient(135deg,rgba(20,0,0,.9),rgba(200,0,0,.2));
}
.exit-intent-hero-img {
  width: 100%;
  max-height: 200px;
  object-fit: cover;
  object-position: center top;
  display: block;
}
.exit-intent-img-overlay {
  position: absolute; inset: 0;
  display: flex; align-items: flex-end; justify-content: flex-start;
  padding: 12px 16px;
  background: linear-gradient(to top, rgba(0,0,0,.7) 0%, transparent 60%);
}
.exit-intent-img-badge {
  background: linear-gradient(135deg,#ff4444,#cc0000);
  color: #fff;
  font-size: 1em;
  font-weight: 800;
  padding: 5px 14px;
  border-radius: 20px;
  letter-spacing: .05em;
  box-shadow: 0 4px 15px rgba(255,0,0,.5);
  animation: exitBadgePulse 1.5s ease-in-out infinite;
}
@keyframes exitBadgePulse {
  0%,100% { box-shadow: 0 4px 15px rgba(255,0,0,.5); }
  50%      { box-shadow: 0 4px 28px rgba(255,0,0,.9); }
}

/* ── Install popup image ─────────────────────────────── */
.install-popup-img-wrap {
  width:100%; max-height:200px; overflow:hidden;
  display:flex; align-items:center; justify-content:center;
  background:linear-gradient(135deg,rgba(0,44,98,.7),rgba(0,174,239,.25));
}
.install-popup-img {
  width:100%; max-height:200px;
  object-fit:cover; object-position:center top;
  display:block;
}
.install-tip-box {
  padding:11px 15px;
  background:rgba(0,174,239,.12);
  border-radius:10px; border:1px solid rgba(0,174,239,.35);
  font-size:.86em; color:var(--text-dim); line-height:1.6;
  margin-bottom:16px; text-align:left;
}

/* ── Offline toast ───────────────────────────────────── */
.offline-message {
  position:fixed; top:20px; left:50%; transform:translateX(-50%);
  background:var(--warning); color:#fff;
  padding:10px 20px; border-radius:5px; z-index:1001; display:none;
}

/* ── Misc install / email blocks ─────────────────────── */
#emailSubscription {
  background:linear-gradient(135deg,rgba(0,44,98,.8),rgba(0,174,239,.8));
  padding:30px; border-radius:12px; margin:30px auto;
  max-width:800px; border:2px solid var(--osm-cyan);
  box-shadow:0 10px 30px rgba(0,174,239,.3);
}
.email-form { display:flex; gap:15px; margin-top:20px; }
.email-input { flex:1; padding:15px 20px; border-radius:8px; border:2px solid var(--osm-gold); background:rgba(19,24,41,.8); color:var(--text-bright); font-size:1.1rem; transition:all .3s; }
.email-input:focus { outline:none; border-color:var(--osm-cyan); box-shadow:0 0 15px rgba(0,174,239,.5); }
.subscribe-btn  { background:linear-gradient(135deg,var(--osm-gold),#ffa000); color:var(--osm-navy); border:none; padding:15px 30px; border-radius:8px; font-weight:700; font-size:1.1rem; cursor:pointer; transition:all .3s; white-space:nowrap; }
.subscribe-btn:hover { transform:translateY(-2px); box-shadow:0 6px 20px rgba(255,180,0,.5); }
#installButton { background:linear-gradient(135deg,var(--osm-gold),#ffa000); color:var(--osm-navy); border:none; padding:15px 30px; border-radius:8px; font-weight:700; font-size:1.1rem; cursor:pointer; transition:all .3s; margin-top:20px; width:100%; display:none; animation:pulse 2s infinite; }
@keyframes pulse { 0%{box-shadow:0 0 0 0 rgba(255,180,0,.7)} 70%{box-shadow:0 0 0 10px rgba(255,180,0,0)} 100%{box-shadow:0 0 0 0 rgba(255,180,0,0)} }
.install-guide { margin-top:20px; padding:15px; background:rgba(0,174,239,.1); border-radius:8px; border-left:4px solid var(--osm-cyan); }

/* ═══════════════════════════════════════════════════════
   PWA STANDALONE
═══════════════════════════════════════════════════════ */
@media (display-mode: standalone) {
  body { overscroll-behavior:none; -webkit-overflow-scrolling:touch; -webkit-user-select:none; user-select:none; padding-top:env(safe-area-inset-top); padding-bottom:env(safe-area-inset-bottom); padding-left:env(safe-area-inset-left); padding-right:env(safe-area-inset-right); }
  header { padding-top:calc(40px + env(safe-area-inset-top)); }
  html { overscroll-behavior-y:none; }
}

/* ═══════════════════════════════════════════════════════
   PWA LOGIN OVERLAY
═══════════════════════════════════════════════════════ */
.pwa-login-overlay { position:fixed; inset:0; background:linear-gradient(160deg,#0c1120 0%,#001a40 60%,#0c1120 100%); z-index:9999; display:flex; flex-direction:column; align-items:center; justify-content:center; padding:40px 30px; animation:pwaFadeIn .45s cubic-bezier(.22,1,.36,1); }
@keyframes pwaFadeIn { from{opacity:0;transform:scale(.96)} to{opacity:1;transform:scale(1)} }
.pwa-login-modal { width:100%; max-width:340px; text-align:center; display:flex; flex-direction:column; align-items:center; gap:16px; }
.pwa-login-logo   { width:96px; height:96px; border-radius:22px; object-fit:cover; filter:drop-shadow(0 0 20px rgba(0,174,239,.55)); margin-bottom:4px; animation:pwaLogoPulse 2.5s ease-in-out infinite; }
@keyframes pwaLogoPulse { 0%,100%{filter:drop-shadow(0 0 18px rgba(0,174,239,.55))} 50%{filter:drop-shadow(0 0 34px rgba(0,174,239,.9))} }
.pwa-login-title    { font-size:2em; font-weight:800; color:var(--text-bright); text-shadow:0 0 16px var(--osm-cyan); margin:0; }
.pwa-login-subtitle { font-size:1em; color:var(--text-dim); line-height:1.5; margin:0 0 10px; }
.pwa-google-btn  { width:100%; display:flex; align-items:center; justify-content:center; gap:10px; padding:15px 20px; border-radius:12px; background:#4285F4; color:#fff; font-size:1.05em; font-weight:700; border:none; cursor:pointer; box-shadow:0 4px 20px rgba(66,133,244,.45); transition:all .25s; }
.pwa-google-btn:hover  { background:#3367d6; transform:translateY(-1px); box-shadow:0 6px 24px rgba(66,133,244,.6); }
.pwa-discord-btn { width:100%; display:flex; align-items:center; justify-content:center; gap:10px; padding:15px 20px; border-radius:12px; background:#5865F2; color:#fff; font-size:1.05em; font-weight:700; border:none; cursor:pointer; box-shadow:0 4px 20px rgba(88,101,242,.45); transition:all .25s; }
.pwa-discord-btn:hover { background:#4752c4; transform:translateY(-1px); box-shadow:0 6px 24px rgba(88,101,242,.6); }
.pwa-skip-btn { width:100%; padding:12px 20px; border-radius:12px; background:transparent; color:var(--text-dim); font-size:.95em; font-weight:600; border:1.5px solid rgba(160,180,200,.3); cursor:pointer; transition:all .25s; box-shadow:none; }
.pwa-skip-btn:hover { border-color:rgba(160,180,200,.65); color:var(--text-bright); transform:none; box-shadow:none; }
.pwa-login-note { margin:0; font-size:.82em; color:var(--text-dim); opacity:.7; }

/* ═══════════════════════════════════════════════════════
   FOOTER helpers
═══════════════════════════════════════════════════════ */
.footer-badge { font-size:.75rem; font-weight:600; letter-spacing:.05em; color:var(--text-dim); background:rgba(0,174,239,.08); border:1px solid rgba(0,174,239,.2); border-radius:20px; padding:5px 14px; white-space:nowrap; transition:border-color .2s,color .2s; }
.footer-badge:hover { border-color:rgba(0,174,239,.5); color:var(--text-bright); }

/* ═══════════════════════════════════════════════════════
   RESPONSIVE — PORTRAIT
═══════════════════════════════════════════════════════ */

/* Tablet: 2-col pricing */
@media (max-width: 1100px) {
  .pricing-grid { grid-template-columns: repeat(2,1fr); }
}

/* Large mobile */
@media (max-width: 768px) {
  h1 { font-size:2em; }
  h2 { font-size:1.6em; }
  h3 { font-size:1.3em; }
  h4 { font-size:1.1em; }

  main.glass  { padding:16px 12px; margin:12px; }
  .card       { padding:18px 14px; margin-bottom:20px; }

  .input-grid  { grid-template-columns:1fr; gap:14px; margin:14px 0; }
  .slider-grid { grid-template-columns:1fr; gap:16px; margin:14px 0; }

  /* 1-col pricing on small phones */
  .pricing-grid { grid-template-columns:1fr; gap:24px; max-width:380px; margin-left:auto; margin-right:auto; }

  .hero-title   { font-size:2.1em; }
  .hero-sub     { font-size:1.1em; }
  .hero-btn-primary, .hero-btn-outline { padding:14px 26px; font-size:1.1em; }

  .trust-bar-inner { gap:14px; }

  .alternative-formations-grid { grid-template-columns:repeat(2,1fr); }

  .email-form    { flex-direction:column; }
  .popup-actions { flex-direction:column; }
  .subscription-popup { width:96%; }
  .install-popup-img-wrap { max-height:160px; }
  .install-popup-img      { max-height:160px; }
  .referral-popup-img-wrap { max-height:180px; }
  .referral-popup-img      { max-height:180px; }
  .exit-intent-img-wrap    { max-height:160px; }
  .exit-intent-hero-img    { max-height:160px; }
  .popup-content { padding:18px 16px; }

  .subscribe-box-body { padding:40px 14px 22px; gap:14px; }
  .subscribe-col { flex:1 1 100%; max-width:100%; }
}

/* Small phones */
@media (max-width: 480px) {
  h1 { font-size:1.7em; }
  .hero-title { font-size:1.75em; }
  .hero-btns  { flex-direction:column; align-items:center; }
  .hero-btn-primary, .hero-btn-outline { width:100%; max-width:340px; padding:14px 20px; font-size:1em; }

  .alternative-formations-grid { grid-template-columns:1fr; }

  .popup-icon { font-size:2.8em; }
  .popup-header h3 { font-size:1.3em; }
  .popup-text  { font-size:.95em; }
  .popup-content { padding:14px 12px; }

  .install-popup-img-wrap { max-height:130px; }
  .install-popup-img      { max-height:130px; }
  .referral-popup-img-wrap { max-height:140px; }
  .referral-popup-img      { max-height:140px; }
  .exit-intent-img-wrap    { max-height:130px; }
  .exit-intent-hero-img    { max-height:130px; }

  .pc-img-wrap { height:120px; }
  .benefit-list { font-size:.82em; }
  .price { font-size:1.7em; }
}

/* ═══════════════════════════════════════════════════════
   RESPONSIVE — LANDSCAPE
═══════════════════════════════════════════════════════ */
@media (max-height: 500px) and (orientation: landscape) {
  header { padding:10px 16px; }
  h1     { font-size:1.5em; }
  h2     { font-size:1.3em; margin:10px 0 6px; }
  h3     { font-size:1.15em; margin:6px 0; }
  h4     { font-size:1em; margin:8px 0 5px; }

  main.glass { padding:12px; margin:8px auto; }
  .card      { padding:12px; margin-bottom:14px; }

  .hero-section { padding:24px 16px 20px; }
  .hero-title   { font-size:1.7em; margin-bottom:10px; }
  .hero-sub     { font-size:.95em; margin-bottom:20px; }
  .hero-img     { max-height:180px; object-fit:cover; margin-bottom:20px; }
  .hero-btn-primary, .hero-btn-outline { padding:11px 22px; font-size:1em; }

  .input-grid  { grid-template-columns:repeat(2,1fr); gap:10px; margin:10px 0; }
  .slider-grid { grid-template-columns:repeat(2,1fr); gap:12px; margin:10px 0; }
  .slider-group { padding:12px; }
  .slider-group label { font-size:.88rem; margin-bottom:6px; }
  .slider-description { font-size:.75rem; margin-top:4px; }

  .pricing-grid { grid-template-columns:repeat(4,1fr); gap:12px; }
  .pc-img-wrap  { height:90px; }
  .product-card { padding:28px 12px 16px; }
  .product-card h3 { font-size:1.2em; min-height:1.6em; }
  .price { font-size:1.5em; margin:6px 0; }
  .benefit-list { font-size:.78em; margin:10px 0; }
  .benefit-list li { margin:5px 0; padding-left:18px; }

  button { padding:10px 18px; font-size:.95rem; }

  .popup-overlay { align-items:flex-start; padding-top:8px; }
  .subscription-popup { max-height:92vh; overflow-y:auto; }
  .install-popup-img-wrap { max-height:110px; }
  .install-popup-img      { max-height:110px; }
  .referral-popup-img-wrap { max-height:120px; }
  .referral-popup-img      { max-height:120px; }
  .exit-intent-img-wrap    { max-height:110px; }
  .exit-intent-hero-img    { max-height:110px; }
  .popup-icon { font-size:2.2em; margin-bottom:8px; }
  .popup-content { padding:12px 16px; }
  .popup-header h3 { font-size:1.3em; }
  .popup-text  { font-size:.92em; margin-bottom:10px; }

  .subscribe-box-header { padding:20px 16px 0; }
  .subscribe-box-img    { width:100px; height:100px; margin-bottom:-20px; }
  .subscribe-box-body   { padding:30px 16px 16px; gap:12px; }
  .subscribe-col        { flex:1 1 280px; padding:16px 14px; }

  .trust-bar    { padding:10px 16px; }
  .trust-bar-inner { gap:18px; }

  .alternative-formations-grid { grid-template-columns:repeat(3,1fr); }

  .email-form { flex-direction:row; }
  .popup-actions { flex-direction:row; }
}

/* Wider landscape tablets — keep 4-col pricing */
@media (max-height: 700px) and (min-width: 900px) and (orientation: landscape) {
  .pricing-grid { grid-template-columns:repeat(4,1fr); }
  .hero-img { max-height:240px; object-fit:cover; }
}
